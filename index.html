<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Inorganic Chemistry AR - Methane</title>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/AR-js-org/AR.js@3.4.5/aframe/build/aframe-ar.js"></script>

  <script>
    // Inline pattern data to bypass network/caching issues
    const patternData = `255 255 254 255 255 255 255 255 255 255 255 255 255 255 255 254
255 255 255 255   0   0   0   0   0   0   0   0   0   0   1 254
255 255 255 255   1 255 255 255 255 255 255 255 255 255   0 254
255 255 255 255 255 255 255 255 255 255 255 255 255 255   0 254
255   0   1 255 255 255 255 255 255 255 255 255 255 255   0 254
255   0 255 255 255 255 255 255 255 255 255 255 255 255   0 254
255   0 255   0   0   0   0 254 255   0 255 255   0 255   0 254
255   0   0 255 255 255   0   3   3   0 255   0   0 255   0 254
255   0   0 254 255 255   0 254 255   0 255   1   0   1   0 254
255   0 255   0   0   0   0 254 255   0 255 255   1 255   0 254
255   0 255 255 255 255 255 255 255 255 255 255 255 255   0 254
255   0 255 255 255 255 255 255 255 255 255 255 255 255   0 255
255   1 255 255 255 255 255 255 255 255 255 255 255 255   0 254
255   0 255 255 255 255 255 255 255 255 255 255 255 255   0 254
255   1   1   1   1   1   1   1   1   1   1   1   1   1   0 255
255 255 255 255 255 255 255 255 255 255 255 255 255 255 255 254
255 255 254 255 255 255 255 255 255 255 255 255 255 255 255 254
255 255 255 255   0   0   0   0   0   0   0   0   0   0   1 254
255 255 255 255   1 255 255 255 255 255 255 255 255 255   0 254
255 255 255 255 255 255 255 255 255 255 255 255 255 255   0 254
255   0   1 255 255 255 255 255 255 255 255 255 255 255   0 254
255   0 255 255 255 255 255 255 255 255 255 255 255 255   0 254
255   0 255   0   0   0   0 254 255   0 255 255   0 255   0 254
255   0   0 255 255 255   0   3   3   0 255   0   0 255   0 254
255   0   0 254 255 255   0 254 255   0 255   1   0   1   0 254
255   0 255   0   0   0   0 254 255   0 255 255   1 255   0 254
255   0 255 255 255 255 255 255 255 255 255 255 255 255   0 254
255   0 255 255 255 255 255 255 255 255 255 255 255 255   0 254
255   1 255 255 255 255 255 255 255 255 255 255 255 255   0 254
255   0 255 255 255 255 255 255 255 255 255 255 255 255   0 254
255   1   1   1   1   1   1   1   1   1   1   1   1   1   0 254
255 255 255 255 255 255 255 255 255 255 255 255 255 255 255 254
255 255 254 255 255 255 255 255 255 255 255 255 255 255 255 254
255 255 255 255   0   0   0   0   0   0   0   0   0   0   1 254
255 255 255 255   1 255 255 255 255 255 255 255 255 255   0 254
255 255 255 255 255 255 255 255 255 255 255 255 255 255   0 254
255   0   1 255 255 255 255 255 255 255 255 255 255 255   0 254
255   0 255 255 255 255 255 255 255 255 255 255 255 255   0 254
255   0 255   0   0   0   0 254 255   0 255 255   0 255   0 254
255   0   0 255 255 255   0   3   3   0 255   0   0 255   0 254
255   0   0 254 255 255   0 254 255   0 255   1   0   1   0 254
255   0 255   0   0   0   0 254 255   0 255 255   1 255   0 254
255   0 255 255 255 255 255 255 255 255 255 255 255 255   0 254
255   0 255 255 255 255 255 255 255 255 255 255 255 255   0 254
255   1 255 255 255 255 255 255 255 255 255 255 255 255   0 254
255   0 255 255 255 255 255 255 255 255 255 255 255 255   0 254
255   1   1   1   1   1   1   1   1   1   1   1   1   1   0 254
255 255 255 255 255 255 255 255 255 255 255 255 255 255 255 254

254 254 254 254 254 254 254 254 254 254 254 255 254 254 255 254
255   1   0   0   0   0   0   0   0   0   0   0   0   0   0 255
255   0 255 255 255 255 255 255   1 255 255 255 255 255   1 255
255   0 255 255 255 255   0   0   0   1 255 255 255 255   1 255
255   0 255 255 255 255 255   0   1 255 255 255 255 255   1 255
255   0 255 255 255 255 255 255 255 255 255 255 255 255   1 255
255   0 255 255 255 255   0   0   0   0 255 255 255 255   1 255
255   0 255 255 255 255 255   3 255 255 255 255 255 255   1 255
255   0 255 255 255 255 254   3 254 254 255 255 255 255   1 255
255   0 255 255 255 255   0   0   0   0 255 255 255 255   1 255
255   0 255 255 255 255   0 255 255   0 255 255 255 255   1 255
255   0   1 255 255 255   0 255 255   0 255 255 255 255   1 255
255 255 255 255 255 255   0 255 254   0 255 255 255 255   1 255
254 255 255 255   1 255 255   0   0 255 255 255 255 255   1 255
255 255 255 255   0   0   0   0   0   0   0   0   1   0   1 255
255 255 255 255 255 255 255 255 255 255 255 255 255 255 255 255
254 254 254 254 254 254 254 254 254 254 254 254 254 254 254 254
255   1   0   0   0   0   0   0   0   0   0   0   0   0   0 255
255   0 255 255 255 255 255 255   1 255 255 255 255 255   1 255
255   0 255 255 255 255   0   0   0   1 255 255 255 255   1 255
255   0 255 255 255 255 255   0   1 255 255 255 255 255   1 255
255   0 255 255 255 255 255 255 255 255 255 255 255 255   1 255
255   0 255 255 255 255   0   0   0   0 255 255 255 255   1 255
255   0 255 255 255 255 255   3 255 255 255 255 255 255   1 255
255   0 255 255 255 255 254   3 254 254 255 255 255 255   1 255
255   0 255 255 255 255   0   0   0   0 255 255 255 255   1 255
255   0 255 255 255 255   0 255 255   0 255 255 255 255   1 255
255   0   1 255 255 255   0 255 255   0 255 255 255 255   1 255
255 255 255 255 255 255   0 255 254   0 255 255 255 255   1 255
254 255 255 255   1 255 255   0   0 255 255 255 255 255   1 255
255 255 255 255   0   0   0   0   0   0   0   0   1   0   1 255
255 255 255 255 255 255 255 255 255 255 255 255 255 255 255 255
254 254 254 254 254 254 254 254 254 254 254 254 254 254 254 254
255   1   0   0   0   0   0   0   0   0   0   0   0   0   0 255
255   0 255 255 255 255 255 255   1 255 255 255 255 255   1 255
255   0 255 255 255 255   0   0   0   1 255 255 255 255   1 255
255   0 255 255 255 255 255   0   1 255 255 255 255 255   1 255
255   0 255 255 255 255 255 255 255 255 255 255 255 255   1 255
255   0 255 255 255 255   0   0   0   0 255 255 255 255   1 255
255   0 255 255 255 255 255   3 255 255 255 255 255 255   1 255
255   0 255 255 255 255 254   3 254 254 255 255 255 255   1 255
255   0 255 255 255 255   0   0   0   0 255 255 255 255   1 255
255   0 255 255 255 255   0 255 255   0 255 255 255 255   1 255
255   0   1 255 255 255   0 255 255   0 255 255 255 255   1 255
255 255 255 255 255 255   0 255 254   0 255 255 255 255   1 255
254 255 255 255   1 255 255   0   0 255 255 255 255 255   1 255
255 255 255 255   0   0   0   0   0   0   0   0   1   0   1 255
255 255 255 255 255 255 255 255 255 255 255 255 255 255 255 255

220 162 162 162 162 162 162 162 162 162 162 162 162 162 162 220
161  40 101 101 101 101 101 101 101 101 101 101 101 101  40 161
161 101 254 254 254 254 254 254 254 254 255 254 254 254 101 161
161 101 254 254 255 255 255 255 255 255 255 255 255 254 101 161
161 101 254 255 255 255 255 255 255 254 254 255 255 254 101 161
161 101 254 254 254 254 254 255 254 254 254 254 254 254 101 161
161 101 192  82 219 238  68 224 168 123 139  63  64 227 101 161
161 101 126  29  66 146  42 171 122 105 248 254 129 111 101 161
161 101 204  63  78 242  42 105  74 105 252 254 139 106 101 161
161 101 206   9 193 254  47 220 159 109 133  71  47 217 101 161
161 101 254 254 254 254 254 254 254 254 254 247 253 254 101 161
161 101 254 255 254 255 255 255 255 255 255 254 254 146  37 161
161 101 254 254 254 255 255 255 255 255 255 254 254 195 168 222
161 101 254 255 254 254 254 254 254 254 255 137 208 254 254 253
161  40 101 101 101 101 101 101 101 101 101  31 186 254 254 253
220 161 161 161 161 161 161 161 161 161 161 161 229 253 253 253
220 162 162 162 162 162 162 162 162 162 162 162 162 162 162 220
162  40 101 101 101 101 101 101 101 101 101 101 101 101  40 161
162 101 254 254 254 254 254 254 254 254 255 254 254 254 101 161
162 101 254 254 255 255 255 255 255 255 255 255 255 254 101 161
162 101 254 255 255 255 255 255 255 254 254 255 255 254 101 161
162 101 254 254 254 254 254 255 254 254 254 254 254 254 101 161
161 101 192  82 219 238  68 224 169 123 139  63  64 227 101 161
162 101 126  29  66 146  42 171 122 105 248 254 129 111 101 161
162 101 205  63  78 242  42 105  75 105 252 254 139 106 101 161
162 101 206   9 193 254  47 220 159 109 133  71  47 217 101 161
161 101 254 254 254 254 254 254 254 254 254 247 253 254 101 161
162 101 254 255 254 255 255 255 255 255 255 254 254 146  37 161
127: 161 101 254 254 254 255 255 255 255 255 255 254 254 195 168 222
128: 161 101 254 255 254 254 254 254 254 254 255 137 209 254 254 253
129: 162  40 101 101 101 101 101 101 101 101 101  31 186 254 254 253
130: 220 162 161 161 161 161 161 161 161 161 161 161 229 253 253 253
131: 220 162 162 162 162 162 162 162 162 162 162 162 162 162 162 220
132: 161  40 101 101 101 101 101 101 101 101 101 101 101 101  40 161
133: 162 101 254 254 254 254 254 254 254 254 255 254 254 254 101 161
134: 162 101 254 254 255 255 255 255 255 255 255 255 255 254 101 161
135: 162 101 254 255 255 255 255 255 255 254 254 255 255 254 101 161
136: 162 101 254 254 254 254 254 255 254 254 254 254 254 254 101 161
137: 161 101 192  82 219 238  68 224 168 123 139  63  64 227 101 161
138: 162 101 126  29  66 146  42 171 122 105 248 254 129 111 101 161
139: 162 101 205  63  78 242  42 105  75 105 252 254 139 106 101 161
140: 162 101 206   9 193 254  47 220 159 109 133  71  47 217 101 161
141: 161 101 254 254 254 254 254 254 254 254 254 247 253 254 101 161
142: 162 101 254 255 254 255 255 255 255 255 255 254 254 146  37 161
143: 161 101 254 254 254 255 255 255 255 255 255 254 254 195 168 222
144: 161 101 254 255 254 254 254 254 254 254 255 137 209 254 254 253
145: 162  40 101 101 101 101 101 101 101 101 101  31 186 254 254 253
146: 220 162 161 161 161 161 161 161 161 161 161 161 229 253 253 253
147: 
148: 220 161 161 161 161 161 161 161 161 161 161 161 222 253 253 253
149: 162  40 101 101 101 101 101 101 101 101 101  37 168 254 254 253
150: 162 101 254 254 254 254 227 111 106 217 254 146 195 254 254 253
151: 162 101 254 255 255 254  64 129 139  47 253 254 254 208 186 229
152: 162 101 254 255 255 254  63 254 254  71 247 254 254 137  31 161
153: 162 101 255 255 254 254 139 248 252 133 254 255 255 255 101 161
154: 162 101 254 255 254 254 123 105 105 109 254 255 255 254 101 161
155: 162 101 254 255 255 254 168 122  74 159 254 255 255 254 101 161
156: 162 101 254 255 255 255 224 171 105 220 254 255 255 254 101 161
157: 162 101 254 255 255 254  68  42  42  47 254 255 255 254 101 161
158: 162 101 254 255 255 254 238 146 242 254 254 255 255 254 101 161
159: 162 101 254 255 255 254 219  66  78 193 254 254 254 254 101 161
160: 162 101 254 254 255 254  82  29  63   9 254 255 254 255 101 161
161: 162 101 254 254 254 254 192 126 204 206 254 254 254 254 101 161
162: 162  40 101 101 101 101 101 101 101 101 101 101 101 101  40 161
163: 220 161 161 161 161 161 161 161 161 161 161 161 161 161 161 220
164: 220 161 161 161 161 161 161 161 161 161 161 161 222 253 253 253
165: 162  40 101 101 101 101 101 101 101 101 101  37 168 254 254 253
166: 162 101 254 254 254 254 227 111 106 217 254 146 195 254 254 253
167: 162 101 254 255 255 254  64 129 139  47 253 254 254 209 186 229
168: 162 101 254 255 255 254  63 254 254  71 247 254 254 137  31 161
169: 162 101 255 255 254 254 139 248 252 133 254 255 255 255 101 161
170: 162 101 254 255 254 254 123 105 105 109 254 255 255 254 101 161
171: 162 101 254 255 255 254 169 122  75 159 254 255 255 254 101 161
172: 162 101 254 255 255 255 224 171 105 220 254 255 255 254 101 161
173: 162 101 254 255 255 254  68  42  42  47 254 255 255 254 101 161
174: 162 101 254 255 255 254 238 146 242 254 254 255 255 254 101 161
175: 162 101 254 255 255 254 219  66  78 193 254 254 254 254 101 161
176: 162 101 254 254 255 254  82  29  63   9 254 255 254 255 101 161
177: 162 101 254 254 254 254 192 126 205 206 254 254 254 254 101 161
178: 162  40 101 101 101 101 101 101 101 101 101 101 101 101  40 162
179: 220 162 162 162 162 162 161 162 162 162 161 162 161 161 162 220`;

    const blob = new Blob([patternData], {
      type: 'text/plain'
    });
    const patternUrl = URL.createObjectURL(blob);

    AFRAME.registerComponent('blob-url-loader', {
      init: function () {
        this.el.setAttribute('url', patternUrl);
      }
    });

    AFRAME.registerComponent('scene-logger', {
      init: function () {
        const log = document.createElement('div');
        log.innerText = 'Scene Ready (Embedded Pattern)';
        log.style.cssText = 'position:fixed; top:10px; left:10px; color:cyan; background:rgba(0,0,0,0.5); padding:5px; z-index:999';
        document.body.appendChild(log);
      }
    });
  </script>
</head>

<body style="margin: 0; overflow: hidden;">
  <!-- 
      AR.js Scene
      - sourceWidth/Height and displayWidth/Height ensure better resolution on mobile
      - vr-mode-ui="enabled: false": Removes VR button that can break AR layout
      - renderer: Logarithmic depth buffer prevents z-fighting
    -->
  <a-scene embedded scene-logger vr-mode-ui="enabled: false" renderer="logarithmicDepthBuffer: true; precision: medium;"
    arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono; maxDetectionRate: 30; sourceWidth: 640; sourceHeight: 480; displayWidth: 640; displayHeight: 480;">

    <a-marker type="pattern" blob-url-loader id="methane-marker">

      <!-- Methane (CH4) Molecule Container -->
      <a-entity position="0 0.5 0" scale="0.5 0.5 0.5">
        <!-- Carbon Atom (Central) -->
        <a-sphere color="#2C3E50" radius="0.4" position="0 0 0"></a-sphere>

        <!-- Hydrogen Atoms -->
        <!-- Top -->
        <a-sphere color="#ECF0F1" radius="0.2" position="0 0.6 0"></a-sphere>
        <!-- Bottom Left Front -->
        <a-sphere color="#ECF0F1" radius="0.2" position="-0.5 -0.3 0.5"></a-sphere>
        <!-- Bottom Right Front -->
        <a-sphere color="#ECF0F1" radius="0.2" position="0.5 -0.3 0.5"></a-sphere>
        <!-- Back -->
        <a-sphere color="#ECF0F1" radius="0.2" position="0 -0.3 -0.7"></a-sphere>

        <!-- Bonds (Cylinders) -->
        <a-cylinder color="#BDC3C7" height="0.6" radius="0.05" position="0 0.3 0"></a-cylinder>
        <a-cylinder color="#BDC3C7" height="0.6" radius="0.05" position="-0.25 -0.15 0.25"
          rotation="0 0 35"></a-cylinder>
        <a-cylinder color="#BDC3C7" height="0.6" radius="0.05" position="0.25 -0.15 0.25"
          rotation="0 0 -35"></a-cylinder>
        <a-cylinder color="#BDC3C7" height="0.6" radius="0.05" position="0 -0.15 -0.35" rotation="45 0 0"></a-cylinder>

        <!-- Label -->
        <a-text value="Methane (CH4)" align="center" position="0 1 0" color="black" scale="2 2 2"></a-text>
      </a-entity>

    </a-marker>

    <!-- AR Camera (No Look Controls) -->
    <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>
  </a-scene>

  <script>
    // Fix for AR.js mobile resize issue
    window.addEventListener('load', function () {
      setTimeout(function () {
        window.dispatchEvent(new Event('resize'));
      }, 1000);
    });
  </script>
</body>

</html>